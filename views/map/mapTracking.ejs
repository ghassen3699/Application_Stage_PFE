<%- include("../partials/header"); -%>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <script src="http://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
    <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>

    <section id="main-content">
        <section class="wrapper">
            <div class="row">
                <div class="col-lg-9 main-chart">
                    <h3>L'historique de
                        <%= nombreDesNavire%> des Positions</h3>
                    <div class="row mb">
                        <div class="content-panel">

                            <table cellpadding="0" cellspacing="0" border="0" class="display table table-bordered" id="hidden-table-info">
                                <thead>
                                    <tr>
                                        <th style="text-align: center;">NA</th>
                                        <th style="text-align: center;">ID_VMS</th>
                                        <th class="hidden-phone" style="text-align: center;">DA</th>
                                        <th class="hidden-phone" style="text-align: center;">TI</th>
                                        <th class="hidden-phone" style="text-align: center;">LT</th>
                                        <th class="hidden-phone" style="text-align: center;">LG</th>
                                        <th class="hidden-phone" style="text-align: center;">CO</th>
                                        <th class="hidden-phone" style="text-align: center;">TM</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <% navires.forEach(function(navire) { %>

                                        <tr class="gradeX">

                                            <td style="text-align: center;font-size: medium;">
                                                <a href="/navire/navire/<%= navire.ID_VMS%>" style="color:gray;">
                                                    <%= navire.NA %>
                                                </a>
                                            </td>

                                            <td class="hidden-phone" style="text-align: center; font-size: medium;">
                                                <%= navire.ID_VMS %>
                                            </td>

                                            <td class="center hidden-phone" style="text-align: center; font-size: medium;">

                                                <%= navire.DA[6]%>
                                                    <%= navire.DA[7]%> -
                                                        <%= navire.DA[4]%>
                                                            <%= navire.DA[5]%> -
                                                                <%= navire.DA[0]%>
                                                                    <%= navire.DA[1]%>
                                                                        <%= navire.DA[2]%>
                                                                            <%= navire.DA[3]%>

                                            </td>

                                            <td class="center hidden-phone" style="text-align: center; font-size: medium;">
                                                <%= navire.TI %>
                                            </td>

                                            <td class="center hidden-phone" style="text-align: center; font-size: medium;">
                                                <%= navire.LT %>
                                            </td>

                                            <td class="center hidden-phone" style="text-align: center; font-size: medium;">
                                                <%= navire.LG %>
                                            </td>

                                            <td class="center hidden-phone" style="text-align: center; font-size: medium;">
                                                <%= navire.CO %>
                                            </td>

                                            <td class="center hidden-phone" style="text-align: center; font-size: medium;">
                                                <%= navire.TM %>
                                            </td>

                                        </tr>

                                        <% }); %>

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>





                <div class="col-lg-3 ds">
                    <div class="notificationBarVisibility">

                        <!-- formulaire pour la recherche par une seule date  -->
                        <div class='centered'>
                            <span><h4>Nombre total du Tracking : <br><br>
                                <%= nombreDesNavire%></h4></span>
                            <hr>
                            <form action="/map/mapSingleDate" method="get">
                                <h4 class="centered mt">Recherche Par Date</h4>
                                <input type="date" id="recherche1" value="" name="date" size="16" class="form-control" required pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}">
                                <h5 class="centered mt"><button type="submit" class="btn btn-warning btn-lg btn-block">Recherche par date</button></h5>
                            </form>
                        </div>
                        <hr>

                        <!-- formulaire pour recherche entre deux dates -->
                        <form action="/map/mapBetweenDate" method="get">
                            <div class='centered'>
                                <h4 class="centered mt ">Recherche entre deux dates</h4>
                                <br>
                                <h5>Début</h5>
                                <input type="date" lang="fr-CA" value="" id="recherche2" name="date1" size="16" class="form-control" required pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}">
                                <h5>Fin</h5>
                                <input type="date" lang="fr-CA" value="" id="recherche3" name="date2" size="16" class="form-control" required pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}">
                            </div>
                            <div class='centered'>
                                <br>
                                <h5 class="centered mt"><button type="submit" class="btn btn-warning btn-lg btn-block">Recherche entre deux dates</button></h5>
                            </div>
                        </form>
                        <hr>


                        <!-- formulaire pour recherche par une requete -->
                        <form action="/map/mapRequete" method="get">
                            <div class='centered'>
                                <h4 class="centered mt">Recherche par entéte</h4>
                                <br>
                                <h5>Entrer Votre entéte</h5>
                                <input type="test" placeholder="VMS2XXX, TIME:HHMM, DATE:YYYYMMDD" id="bday" name="recherche" class="form-control">
                            </div>
                            <div class='centered'>
                                <br>
                                <h5 class="centered mt"><button type="submit" class="btn btn-warning btn-lg btn-block">Recherche par entéte</button></h5>
                            </div>
                        </form>


                        <br>
                        <br>
                    </div>
                </div>
            </div>
            </div>
            </div>
            </div>
        </section>
    </section>

    <script>
        var table = document.querySelectorAll('#hidden-table-info tr')
        var pageSize = 20
        var allPages = Math.ceil(table.length / pageSize)
    </script>

    <script type="text/javascript" src="/js/pickerDateConfig.js"></script>





    <%- include("../partials/footer"); -%>